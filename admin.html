<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yönetim Paneli | Blog & Tool System</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <style>
        /* Panel Temel Tasarımı (admin.css içeriği buraya da eklenebilir) */
        :root {
            --bg-dark: #0f172a;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --primary: #3b82f6;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
        }

        body { background-color: var(--bg-dark); color: var(--text-main); font-family: 'Inter', sans-serif; margin: 0; }
        .glass { background: var(--glass-bg); backdrop-filter: blur(12px); border: 1px solid var(--glass-border); border-radius: 16px; }
        
        /* Layout */
        .admin-container { display: grid; grid-template-columns: 260px 1fr; min-height: 100vh; }
        
        /* Sidebar */
        .admin-sidebar { padding: 30px 20px; border-right: 1px solid var(--glass-border); display: flex; flex-direction: column; }
        .sidebar-header h2 { font-family: 'Space Grotesk', sans-serif; margin-bottom: 40px; }
        .sidebar-header h2 span { color: var(--primary); }
        .admin-menu { list-style: none; padding: 0; flex-grow: 1; }
        .admin-menu li { padding: 12px 15px; margin-bottom: 8px; border-radius: 10px; cursor: pointer; transition: 0.3s; color: var(--text-muted); display: flex; align-items: center; gap: 12px; }
        .admin-menu li:hover, .admin-menu li.active { background: var(--glass-bg); color: var(--text-main); }
        .admin-menu li.active { border-left: 4px solid var(--primary); }

        /* Content Area */
        .admin-content { padding: 30px; overflow-y: auto; }
        .admin-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 25px; margin-bottom: 30px; }
        .admin-section { display: none; animation: fadeIn 0.4s ease-in-out; }
        .admin-section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Stats & Cards */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
        .stat-card { padding: 25px; display: flex; align-items: center; gap: 20px; }
        .stat-icon { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .icon-blue { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }

        /* Forms & Tables */
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: var(--text-muted); font-size: 0.9rem; }
        input, textarea, select { width: 100%; padding: 12px; background: rgba(0,0,0,0.2); border: 1px solid var(--glass-border); border-radius: 8px; color: white; outline: none; box-sizing: border-box; }
        .btn-submit { background: var(--primary); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: 0.3s; }
        .btn-submit:hover { background: #2563eb; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { text-align: left; color: var(--text-muted); padding: 15px; border-bottom: 1px solid var(--glass-border); }
        td { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.02); }
        
        /* Profile Dropdown */
        .user-info { position: relative; cursor: pointer; display: flex; align-items: center; gap: 10px; }
        .profile-dropdown { position: absolute; top: 100%; right: 0; width: 180px; background: #1e293b; border-radius: 8px; display: none; flex-direction: column; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.5); z-index: 100; }
        .profile-dropdown.show { display: flex; }
        .profile-dropdown a { padding: 12px 15px; color: white; text-decoration: none; font-size: 0.9rem; }
        .profile-dropdown a:hover { background: rgba(255,255,255,0.05); }
    </style>
</head>
<body>

    <div class="admin-container">
        <aside class="admin-sidebar glass">
            <div class="sidebar-header">
                <h2>Admin<span>.</span></h2>
            </div>
            <ul class="admin-menu">
                <li class="active" onclick="showSection('dashboard')"><i class="fa-solid fa-chart-pie"></i> Özet</li>
                <li onclick="showSection('posts')"><i class="fa-solid fa-layer-group"></i> Yazılar</li>
                <li onclick="showSection('new-post')"><i class="fa-solid fa-pen-to-square"></i> Yeni Yazı Ekle</li>
                <li onclick="showSection('tools-manager')"><i class="fa-solid fa-toolbox"></i> Araç Yönetimi</li>
                <li onclick="showSection('pages-manager')"><i class="fa-solid fa-file-code"></i> Sayfalar</li>
                <li onclick="showSection('settings')"><i class="fa-solid fa-gear"></i> Ayarlar</li>
            </ul>
            <div class="sidebar-footer">
                <a href="index.html" class="btn-submit" style="text-decoration:none; display:block; text-align:center;" target="_blank">Siteyi Gör</a>
            </div>
        </aside>

        <main class="admin-content">
            <header class="admin-header glass">
                <h3>Yönetim Paneli</h3>
                <div class="user-info" onclick="toggleProfileMenu()" id="user-profile-trigger">
                    <span>Yönetici</span>
                    <img src="https://ui-avatars.com/api/?name=Admin&background=3b82f6&color=fff" style="width:35px; border-radius:50%;">
                    <div class="profile-dropdown" id="profile-dropdown">
                        <a href="#" onclick="showSection('settings')">Ayarlar</a>
                        <a href="#" onclick="logout()" style="color:#ef4444;">Çıkış Yap</a>
                    </div>
                </div>
            </header>

            <section id="dashboard" class="admin-section active">
                <div class="stats-grid">
                    <div class="stat-card glass">
                        <div class="stat-icon icon-blue"><i class="fa-solid fa-file-lines"></i></div>
                        <div><h4>Toplam Yazı</h4><span id="total-posts-count">...</span></div>
                    </div>
                    <div class="stat-card glass">
                        <div class="stat-icon icon-blue" style="color:#10b981;"><i class="fa-solid fa-tags"></i></div>
                        <div><h4>Kategoriler</h4><span id="total-cats-count">...</span></div>
                    </div>
                </div>
            </section>

            <section id="posts" class="admin-section">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h2>Tüm Yazılar</h2>
                    <input type="text" id="post-search" placeholder="Yazılarda ara..." style="width:250px;">
                </div>
                <div class="glass" style="margin-top:20px;">
                    <table>
                        <thead>
                            <tr>
                                <th>Görsel</th>
                                <th>Başlık</th>
                                <th>Kategori</th>
                                <th>Durum</th>
                                <th>İşlem</th>
                            </tr>
                        </thead>
                        <tbody id="posts-table-body"></tbody>
                    </table>
                </div>
            </section>

            <section id="new-post" class="admin-section">
                <div class="glass" style="padding:30px;">
                    <h2>Yeni Yazı Oluştur</h2>
                    <form id="add-post-form">
                        <div class="form-group">
                            <label>Başlık</label>
                            <input type="text" id="post-title" required>
                        </div>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                            <div class="form-group">
                                <label>Kategori</label>
                                <select id="post-category"></select>
                            </div>
                            <div class="form-group">
                                <label>Tarih</label>
                                <input type="date" id="post-date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Kapak Görseli URL</label>
                            <input type="text" id="post-image" placeholder="https://...">
                            <div id="img-preview-container"></div>
                        </div>
                        <div class="form-group">
                            <label>İçerik</label>
                            <div id="editor-container" style="height:300px; background:white; color:black;"></div>
                        </div>
                        <div class="form-group">
                            <label>Kısa Özet</label>
                            <textarea id="post-desc" rows="3"></textarea>
                        </div>
                        <div style="display:flex; gap:10px;">
                            <button type="button" onclick="savePost('Yayında')" class="btn-submit">Yayınla</button>
                            <button type="button" onclick="savePost('Taslak')" style="background:#64748b;" class="btn-submit">Taslağa Kaydet</button>
                        </div>
                    </form>
                </div>
            </section>

            <section id="tools-manager" class="admin-section">
                <div class="glass" style="padding:30px;">
                    <h2>Araçları Yönet</h2>
                    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:15px; margin-bottom:20px;">
                        <input type="text" id="tool-title" placeholder="Araç Adı">
                        <input type="text" id="tool-icon" placeholder="Ikon (fa-solid fa-..)">
                        <input type="text" id="tool-link" placeholder="Link">
                    </div>
                    <button onclick="handleToolSubmit()" class="btn-submit">Ekle / Güncelle</button>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Ikon</th>
                                <th>Başlık</th>
                                <th>Link</th>
                                <th>İşlem</th>
                            </tr>
                        </thead>
                        <tbody id="tools-table-body"></tbody>
                    </table>
                </div>
            </section>

            <section id="pages-manager" class="admin-section">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h2>Özel Sayfalar</h2>
                    <button onclick="openNewPageEditor()" class="btn-submit">Yeni Sayfa Oluştur</button>
                </div>
                <div class="glass" style="margin-top:20px;">
                    <table>
                        <thead>
                            <tr>
                                <th>Başlık</th>
                                <th>Link</th>
                                <th>İşlem</th>
                            </tr>
                        </thead>
                        <tbody id="pages-table-body"></tbody>
                    </table>
                </div>
            </section>

            <section id="page-editor" class="admin-section">
                <div class="glass" style="padding:30px;">
                    <h2 id="page-form-title">Sayfa Düzenle</h2>
                    <div class="form-group">
                        <label>Sayfa Adı</label>
                        <input type="text" id="page-title">
                    </div>
                    <div class="form-group">
                        <label>HTML / CSS / JS Kodları</label>
                        <textarea id="page-content" rows="15" style="font-family:monospace; color:#10b981;"></textarea>
                    </div>
                    <button onclick="savePage()" class="btn-submit">Sayfayı Kaydet</button>
                </div>
            </section>

            <section id="settings" class="admin-section">
                <div class="glass" style="padding:30px;">
                    <h2>Ayarlar</h2>
                    <div class="form-group">
                        <label>Admin Şifresini Değiştir</label>
                        <input type="password" id="cp-new" placeholder="Yeni şifre">
                    </div>
                    <button onclick="alert('Şifre güncellendi (Local)')" class="btn-submit">Güncelle</button>
                </div>
            </section>

        </main>
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    
    <script src="admin.js"></script> 
    <script src="admin-posts.js"></script>
    <script src="admin-pages.js"></script>
    <script src="admin-tools.js"></script>

</body>
</html> 
